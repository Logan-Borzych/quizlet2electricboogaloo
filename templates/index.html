{% extends "base.html" %}   
{% block title %}{% endblock %}
{% block content %}
<body class="index" style="overflow: hidden;">
    <!-- Video -->
    <div class="hero position-fixed top-0 start-0 w-100 h-100 overflow-hidden z-index--1">
        <video autoplay loop muted plays-inline class="back-video position-absolute top-0 start-0 w-100 h-100">
            <source src="../static/images/video.mp4" type="video/mp4">
        </video>
    </div>

    <!-- Content -->
    <div class="container-fluid p-0 position-relative">
        <nav class="navbar navbar-expand-lg navbar-light bg-light position-fixed top-0 start-0 w-100 z-index-1">
            <div class="container-fluid">
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('create_set')}}">Create A Set</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('login')}}">Login</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="row h-100 align-items-center justify-content-center text-center text-light position-relative">
            <div class="col-md-6">
                <h1 class="mb-4">The Better Way To <span class="auto-type"></span></h1>
                <form action="{{ url_for('sets_main') }}" method="POST" class="search-form">
                    <div class="input-group">
                        <input type="text" class="form-control" name="query" placeholder="Search sets">
                        <button type="submit" class="btn btn-purple">Search</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
    <script>
        var typed = new Typed(".auto-type",{
            strings: ["Learn", "Teach", "Study"],
            typeSpeed: 150,
            backSpeed: 150,
            loop: true
        });

        function resizeVideo() {
            var video = document.querySelector('.back-video');
            var windowHeight = window.innerHeight;
            var windowWidth = window.innerWidth;
            var videoAspectRatio = video.videoWidth / video.videoHeight;
            var windowAspectRatio = windowWidth / windowHeight;

            if (windowAspectRatio > videoAspectRatio) {
                video.style.width = '100%';
                video.style.height = 'auto';
            } else {
                video.style.width = 'auto';
                video.style.height = '100%';
            }
        }

        window.addEventListener('resize', resizeVideo);
        window.addEventListener('DOMContentLoaded', resizeVideo);
    </script>
</body>
{% endblock %}
